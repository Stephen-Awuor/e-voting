<!DOCTYPE HTML>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Highcharts Example</title>

    <script type="text/javascript" src="jquery-1.7.1.min.js"></script>    
  </head>
<body>
<script type="text/javascript">
  var pollChart;
  $(document).ready(function(){

      var colors = Highcharts.getOptions().colors;
         var candidatesJson = [{"name":"Team A","voteCount":"98"},{"name":"Team B","voteCount":"32"},{"name":"Team C ","voteCount":"45"}] ;
         // use underscore to extract the names label    
         
         var categories = $.map(candidatesJson, function(o) { return o["name"]; }); 
         alert("start the action");
         var data = [];

  
     for(var i = 0, teamJsonLength = candidatesJson.length ; i < teamJsonLength ; i++ )
         {
             var team = candidatesJson[i];
  
             // alternate colors, then repeat it if exceed the highchart options
             data.push({y: parseInt(team.voteCount) , color: colors[ i % colors.length] });
         }
  
         pollChart = new Highcharts.Chart({
            chart: {
               renderTo: 'chartContainer',
               type: 'column' // change this to column if want to show the column chart
            },
            title: {
               text: 'Poll Name Here',
               style:{
                     color: '#3E576F',
                     fontSize: '23px',
                     fontFamily: 'Helvetica Neue,Helvetica,Arial,sans-serif'
               }
            },
            /*
            subtitle: {
                text: 'Poll Description here'
            },
            */
            xAxis: {
               categories: categories,
               labels: {
                   style: {
                       fontSize: '16px',
                       fontFamily: 'Helvetica Neue,Helvetica,Arial,sans-serif',
                       color: 'black'
                   }
               }
            },
            yAxis: {
               title: {
                  text: 'Votes',
                  style: {
                      fontSize: '14px',
                      fontFamily: 'Helvetica Neue,Helvetica,Arial,sans-serif',
                      color: 'black',
                      fontWeight: 'normal'
                  }
               }
            },
            legend: {
                enabled: false
            },
            tooltip:{
               enabled: false
            },
            series: [{
               name: 'Vote Count',
               data: data,
               dataLabels: {
                   enabled: true,
  
                }      
  
              }
            ],
            exporting: {
                enabled: false
            }
            
         });      
  });
setInterval(function() { getData(); }, 2000);
function getData(){
             console.log("retrieving data from server ");
             var teamA=Math.floor(Math.random()*1001)
             var teamB=Math.floor(Math.random()*1001)
             var teamC=Math.floor(Math.random()*1001)
             var data = [teamA, teamB, teamC];
             pollChart.series[0].setData(data);
             /*var url = "<some server url>";
  
             $.getJSON (url, function (jsonFromServer) {
                                 var data = <get data from the json  results >
  
                                 // update the series data
                 
             });*/
         }
</script>
<script src="highcharts.js"></script>
<script src="data.js"></script>
<script src="exporting.js"></script>
<div id="chartContainer" style="min-width: 400px; height: 400px; margin: 0 auto; border: 1px solid black"></div>
</body>     
